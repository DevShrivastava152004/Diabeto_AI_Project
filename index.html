<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Diabeto AI</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <h1>ðŸ©º Diabeto AI Log</h1>

  <label>Date:</label>
  <input type="date" id="date" />

  <label>Blood Sugar (mg/dL):</label>
  <input type="number" id="sugar" placeholder="e.g. 150" />

  <label>Meal:</label>
  <input type="text" id="meal" placeholder="e.g. Paneer, roti, salad" />

  <label>Insulin:</label>
  <select id="insulin">
    <option value="None">None</option>
    <option value="Morning">Morning</option>
    <option value="Evening">Evening</option>
    <option value="Both">Both</option>
  </select>

  <label>Weight (kg):</label>
  <input type="number" id="weight" placeholder="e.g. 60" />

  <button onclick="saveLog()">ðŸ’¾ Save Log</button>
  <button onclick="analyzeLog()">ðŸ¤– Analyze with AI</button>

  <div id="aiResponse"></div>

  <!-- âœ… Chatbase Embed Code -->
  <script>
    (function () {
      if (!window.chatbase || window.chatbase("getState") !== "initialized") {
        window.chatbase = (...arguments) => {
          if (!window.chatbase.q) {
            window.chatbase.q = [];
          }
          window.chatbase.q.push(arguments);
        };
        window.chatbase = new Proxy(window.chatbase, {
          get(target, prop) {
            if (prop === "q") return target.q;
            return (...args) => target(prop, ...args);
          },
        });
      }

      const onLoad = function () {
        const script = document.createElement("script");
        script.src = "https://www.chatbase.co/embed.min.js";
        script.id = "Ri4DotqVowCNklBEShL1D"; // Replace with your real Bot ID if needed
        script.domain = "www.chatbase.co";
        document.body.appendChild(script);
      };

      if (document.readyState === "complete") {
        onLoad();
      } else {
        window.addEventListener("load", onLoad);
      }
    })();
  </script>

  <script src="script.js"></script>
</body>
</html>
